//
// Modal dialogs
//
// Dialog component to display messages to users
//
@use 'sass:map';

// Public variables.
// May be overrided using @use <url> with (<variable>: <value>, <variable>: <value>)

$border-radius: 0.125rem !default; // Universal border-radius for most elements
$padding: 0.5rem !default; // Universal padding for the most elements
$close-size: 1.75rem !default; // Font size for the close button of the modal dialog
$colors: (
    // Overlay color for modal dialog component
        "overlay": rgba(0, 0, 0, 0.45),
    // Text color for the close button of the modal dialog component
        "close": #444,
    // Background color for the close button of the modal dialog component (on hover/focus)
        "close-hover-back": #f0f0f0
) !default;

// Private variables
$_modal-name: "modal" !default; // Class name for modal dialog component
$_close-name: "modal-close" !default; // Class name for modal dialog close button

/* Styling for modal dialogs */

[type="checkbox"].#{$_modal-name} {
    height: 1px;
    width: 1px;
    margin: -1px;
    overflow: hidden;
    position: absolute;
    clip: rect(0 0 0 0);
    -webkit-clip-path: inset(100%);
    clip-path: inset(100%);
    & + div {
        position: fixed;
        top: 0;
        left: 0;
        display: none;
        width: 100vw;
        height: 100vh;
        background: map.get($colors, "overlay");
        & .card {
            margin: 0 auto;
            max-height: 50vh;
            overflow: auto;
            & .#{$_close-name} {
                position: absolute;
                top: 0;
                right: 0;
                width: $close-size;
                height: $close-size;
                border-radius: $border-radius;
                padding: $padding;
                margin: 0;
                cursor: pointer;
                transition: background 0.3s;
                &:before {
                    display: block;
                    content: "\00D7";
                    color: map.get($colors, "close");
                    position: relative;
                    font-family: sans-serif;
                    font-size: $close-size;
                    line-height: 1;
                    text-align: center;
                }
                &:hover,
                &:focus {
                    background: map.get($colors, "close-hover-back");
                }
            }
        }
    }
    &:checked + div {
        display: flex;
        flex: 0 1 auto;
        z-index: 1200;
        & .card {
            & .#{$_close-name} {
                z-index: 1211;
            }
        }
    }
}
